function init(n,t){$("body>header>div.r>input").val(n.ServerUrl);var i="byte,short,int,long,float,double,decimal,boolean,datetime,datetimeoffset,guid,string,object",r=function(n){return i.indexOf(n.toLowerCase())>-1};$.each(n.ResourceInfos,function(n,t){var i=$('<dd><span class="name">'+t.Name+'<\/span>: <cite class="'+(t.Type.IsBaseType?"type":"class")+'">'+t.Type.Name+"[]<\/cite><\/dd>");$("body>main>div.l>dl#resources").append(i)});$.each(n.ResourceTypes,function(n,t){var i=$("<dd><\/dd>");i.append('<div><span class="class">'+t.Name+"<\/span><\/div>");i.append("<div>{<\/div>");$.each(t.Properties,function(n,t){i.append('<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="name">'+t.Name+'<\/span>: <cite class="'+(t.Type.IsBaseType?"type":"class")+'">'+t.Type.Name+"<\/cite><\/div>")});i.append("<div>}<\/div>");$("body>main>div.l>dl#types").append(i)});$.each(n.ResourceMethods,function(n,t){var i=$("<dd><\/dd>");i.append('<div><span class="class">'+t.Name+"<\/span>"+(t.Inherit?': <span class="class">'+t.Inherit+"<\/span>":"")+"<\/div>");i.append("<div>{<\/div>");$.each(t.Methods,function(n,t){var r="";$.each(t.Parameters,function(n,t){r+=',<span class="name">'+t.Name+"<\/span>"+(t.IsOptional?'<cite class="optional">?<\/cite>':"")+': <cite class="'+(t.Type.IsBaseType?"type":"class")+'">'+t.Type.Name+"<\/cite>"});i.append('<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class="name">'+t.Name+'<\/span> (<span class="parameters">'+r.substr(1)+'<\/span>): <cite class="'+(t.ReturnType.IsBaseType?"type":"class")+'">'+t.ReturnType.Name+"<\/cite><\/div>")});i.append("<div>}<\/div>");$("body>main>div.l>dl#methods").append(i)});t&&t()}function send(n,t){var i,r;$("body>main>div.r>div.m button").attr("disabled","disabled");$("body>main>div.r>div.m #time").text("0.0s");$.ajax($("body>header>div.r>input").val(),{type:"GET",data:n,cache:!1,contentType:"text/plain",dataType:"json",beforeSend:function(n){$.each(t,function(t,i){n.setRequestHeader(t,i)});r=new Date;i=setInterval(function(){$("body>main>div.r>div.m #time").text(((new Date-r)/1e3).toFixed(2)+"s")},75)},error:function(n,t,i){n.responseJSON?$("body>main>div.r>div.b textarea").val(JSON.stringify(n.responseJSON,null,4)):$("body>main>div.r>div.b textarea").val(i||t)},success:function(n){$("body>main>div.r>div.b textarea").val(JSON.stringify(n,null,4))},complete:function(n){$("body>main>div.r>div.m #status").text(n.status);$("body>main>div.r>div.m button").removeAttr("disabled");clearInterval(i)}})}$(function(){$.getJSON("schema.json?v=1.1.6",function(n){init(n||{},function(){$("body>main>div.l>dl>dt").click(function(){$(this).find("span").text($(this).find("span").text()==="+"?"-":"+");$(this).parent().find("dd").slideToggle()});$("body>main>div.r>div.t textarea").on("keydown",function(n){var i,t,r;if(n.keyCode===9)if(n.preventDefault&&n.preventDefault(),i="    ",t=$(this)[0],document.selection)r=document.selection.createRange(),r.text=i+r.text;else if(typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number"){var u=t.selectionStart,o=t.selectionEnd,f=u,e=t.value;t.value=e.substring(0,u)+i+e.substring(u);f+=i.length;t.selectionStart=t.selectionEnd=f}else t.value+=i});$("body>main>div.r>div.m input").on("blur",function(){$(this).val()===""&&$(this).val("query")});$("body>main>div.r>div.m button").click(function(){var n={};n[$("body>main>div.r>div.m input#query").val()]=$("body>main>div.r>div.t textarea").val().replace(/\s/g,"");$(this).is("#sendInQuery")?send(n,null):$(this).is("#sendInHeader")&&send({sendInHeader:!0},n)})})})});